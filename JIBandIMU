	private static DataSetIterator getDataSetIterator(String folderPath, int nSamples)  {
		
//folder object declared and instantiated to be equal to the value of the absolute path to the folder with data
		File folder = new File(folderPath);
//imuFolders object declared and instantiated to be equal to the value of the folder object with the files inside listed into an array.		
		File[] imuFolders = folder.listFiles();

		INDArray input = Nd4j.create(new double[] { nSamples, COLUMNS*ROWS});
		INDArray output = Nd4j.create(new double[] {nSamples, N_OUTCOMES});
		
//for loop to go through the files within the folder 
		for (File imuFiles : imuFolders ) {
			
			String dataLabel = imuFiles.getName();
			
			File [] labelFiles = imuFiles.listFiles();
			
			for (File labelFile : labelFiles) {
				
				try { 
					BufferedReader imuScan = new BufferedReader(labelFile);
					
					while(imuScan.readLine() != null) {
						labelFiles.Array(imuScan.readLine());
					}
				}
				catch (FileNotFoundException i) {
					i.printStackTrace();
				} 
				catch (IOException i) {
					i.printStackTrace();
				}
				
			}	
		}
	
	DataSet dataSet = new DataSet( input , output );
	List<DataSet> listDataSet = dataSet.asList();
	int batchSize = 10;
	DataSetIterator dsi = new ListDataSetIterator<DataSet>(listDataSet, batchSize);
	return dsi;
	}
